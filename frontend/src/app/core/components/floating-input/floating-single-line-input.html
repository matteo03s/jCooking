<div class="mb-3">
  <label class="form-label fw-semibold">{{ title }}</label>

  <div class="form-floating">
    <input
      class="form-control bg-light"
      [class.is-invalid]="invalid"
      [class.readonly-input]="readonly"
      [type]="inputTypeComputed"
      [placeholder]="placeholder"
      [value]="value"
      [disabled]="disabled"
      [readonly]="readonly"
      (input)="onInput($event)"
      (blur)="onBlur()"
    />
    <label>{{ placeholder }}</label>


    <!-- ğŸ‘ï¸ Icona visibilitÃ  password -->
    @if (inputType === 'password' && !readonly) {
      <button
        type="button"
        class="btn-visibility position-absolute end-3 top-50 translate-middle-y me-3"
        (click)="toggleVisibility()"
        tabindex="-1"
      >
        {{ hide ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
      </button>
    }

    <!-- ğŸ”’ Icona per input readonly -->
    @if (readonly) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        fill="currentColor"
        viewBox="0 0 16 16"
        class="position-absolute end-0 top-50 translate-middle-y me-3 text-secondary"
        style="pointer-events: none;"
      >
        <path
          d="M8 1a3 3 0 0 1 3 3v3h1a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h1V4a3 3 0 0 1 3-3zM6 4v3h4V4a2 2 0 0 0-4 0z"
        />
      </svg>
    }
  </div>

  <!-- Error message -->
  @if (invalid) {
    <div class="text-danger small mt-1">
      {{ errorMessage | translate}}
    </div>
  }

</div>
